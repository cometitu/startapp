{% load static %}
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="/docs/4.0/assets/img/favicons/favicon.ico">

    <title>Study Instructions</title>

    <link rel="canonical" href="https://getbootstrap.com/docs/4.0/examples/starter-template/">

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

 
  </head>
  <body style="background-color: #e98801; color: white !important">
   
    <!-- Menu bar -->
    <nav class="navbar navbar-expand-lg navbar-dark" style="background-color: #e98801; color: white">
      <a class="navbar-brand" href="#">SECURE E2E</a>
    </nav>

   <!-- <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <a class="navbar-brand" href="#">COMET Voting</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item">
            <a class="nav-link" href="#">Privacy</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Integrity Measures</a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="#">Security Assurance</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">FAQs</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Help</a>
          </li>
        </ul>
      </div>
    </nav>-->
    <!-- Menu bar ends here -->
    <!--  -->
    <div class="container text-white mt-2" style="background-color: #e98801; border: 1px solid #e98801;">
      <div class="row" style="background-color: #e98801; border: 1px solid #e98801;">
          <div class="col-lg-12" >
            <h2 class="text-center text-white">Study Instructions</h2>
          </div>
      </div>
      <div class="row text-white" style=" border: 1px solid #e98801;">
          <div class="col-lg-12 mt-3  text-left">
            
            <p class="text-justify">
              For the purpose of this study, you are a board member about to vote online in the board election. 
              Your task in this study is to cast your vote for your preferred candidate for the Board Chairperson and Board Secretary positions. 
            </p> 
              <!-- Board Chairperson: <b>{{ BC_SELECT }}</b> <br />
            Board Secretary  :  <b>{{ BS_SELECT }}</b><br /> <br /> -->
            <p class="text-justify">
              During the voting, you will be asked to authenticate using the credentials shown to you in the voting interface. 
              Note, in a real-world elections the credentials will be issued to you separately using secure communication channels and will not be displayed anywhere in the system. 
            </p>

            <p class="text-justify">
              You can also download these instructions for a later reference by clicking on the 
              <b style ="color: #7c2503 !important">Download</b> below. When you are ready to start the study, please click <b style="color:#7c2503 !important">Next</b> 
            </p>
          </div>
        </div>
         <div class="row" style="background-color: #e98801; border: 1px solid #e98801;">
          <div class="col-lg-3 m-2">
            <a id="button-1" target="_blank" href="{% url 'mainapp:download' %}" class="btn  btn-lg btn-block" role="button" style="background-color: #7c2503 !important; color: white !important">
              Download
            </a> 
          </div>
          <div class="col-lg-3 m-2" style="margin: auto;">
            <a id="button-2"  style="margin: auto;"></a> 
          </div>
        </div>  
      </div>
     


    </div><!-- /.container -->

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="{% static 'js/sam/jquery-3.7.0.min.js' %}"></script>
    <script>window.jQuery || document.write('<script src="{% static 'js/sam/jquery-3.7.0.min.js' %}"><\/script>')</script>    

    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

    <script src="{% static 'js/sam/page_tracker.js' %}"></script>

    <script>

      //set local storage
      let storedCode = localStorage.getItem("st_code");
      
      if (storedCode){
        //alert(storedCode + " already exist");
        if (storedCode == "DEF") {
          urlLink ="https://app9.res50.itu.dk/helios/e/boardelections/vote"
        } else if (storedCode == "BAS") {
          urlLink = "/instruction2"
        } else if (storedCode == "UND") {
          urlLink = "/instruction2"
        } else if (storedCode == "INFO") {
          urlLink = "/instruction2"
        } else if (storedCode == "ALL") {
          urlLink = "/instruction2"
        }
      }
      else {
        //alert("Set a new storage");
        localStorage.setItem("st_code", "{{st_code}}");
        if ("{{st_code}}" == "DEF") {
          urlLink ="https://app9.res50.itu.dk/helios/e/boardelections/vote"
        } else if ("{{st_code}}" == "BAS") {
          urlLink = "/instruction2"
        } else if ("{{st_code}}" == "UND") {
          urlLink = "/instruction2"
        } else if ("{{st_code}}" == "INFO") {
          urlLink = "/instruction2"       
        } else if ("{{st_code}}" == "ALL") {
          urlLink = "/instruction2"
        } else {
          alert("Error setting")
        }
      }
      
      // Get a reference to the button element
      var button = document.getElementById('button-2');

      // IIFE to blink the initial text and stop after 10 seconds 
      (function (){
        button.setAttribute("style", "color: #7c2503 !important;");
        button.innerHTML = 'Wait for the <b>Next</b> button to Show'

       /* let interval = setInterval(function() {
          button.style.visibility = (button.style.visibility === 'hidden') ? 'visible' : 'hidden';
        }, 1000); // Toggle visibility every 500 milliseconds (0.5 seconds)

        setTimeout(function() {
          clearInterval(interval); // Stop the blinking interval
          button.style.visibility = 'visible'; // Ensure text is visible after blinking stops
        }, 10000); // Stop blinking after 5 seconds (5000 milliseconds)
       */
      })();


      // Enable the button after 5 seconds (5000 milliseconds)
      setTimeout(function() {
        button.setAttribute("href", urlLink);
        button.setAttribute("class", "btn btn-lg mb-3 btn-block");
        button.setAttribute("style", "background-color: #7c2503 !important; color: white !important");
        button.setAttribute("role", "button");
        button.innerText = "Next";
        button.onclick = null;
      }, 10000);

      //href="{{urlLink}}" role="button"  class="btn btn-info btn-lg mb-3"
    </script>

  </body>
</html>
